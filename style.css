/* Global reset styles */
* {
    margin:0;
    padding:0;
    box-sizing: border-box;
}

/* the container for slides along with component-wide css variables */

.slide-viewer {
    --viewer-width:46rem;
    --viewer-padding:5rem;
    --slide-height:23rem;
    --slide-width: calc(var(--viewer-width) - 2 * var(--viewer-padding));

    --nav-buttons-color-inactive: #333;
    --nav-buttons-color-current: green;
    --nav-buttons-color-hover: #9d6;

    --nav-arrow-color-hover: #9e9;
    --nav-arrow-color: #777;

    --default-border: 1px solid black;

    width:var(--viewer-width);
    padding:0 var(--viewer-padding);
    margin:5rem auto 1rem;
    white-space: nowrap;
    font-size:0;
    overflow: hidden;
    position: relative;
    text-align: center;
}

/* styles for stub "slides". Normally there will be panels with content insted */

.slide-viewer > div:not([class='nav-buttons']) {
    height:var(--slide-height);
    width: var(--slide-width);
    margin-left:-100%;
    display:inline-block;
    background:green;
    border:var(--default-border);
    border-left-width: 0;
    line-height:var(--slide-height);
    font-size:3rem;
    transition: margin-left 0.5s cubic-bezier(0.585, 0, 0.430, 1.640);
}

.slide-viewer > div:not([class='nav-buttons']):first-of-type {
    border-left-width: 1px;
}

/* hiding the radio buttons (they're used for sliding mechanism, not any form functionality) */

.slide-viewer > input[type="radio"] {
    display:none;
}

/* styles for back/forward arrows. 
   background-color is crucial. It must be same as the surrounding area, as it masks 
   the area under arrows where parts of off-screen slide are visible.
*/

.slide-viewer > label {
    display:flex;
    justify-content: center;
    align-items: center;

    top:0;
    width:var(--viewer-padding);
    height:var(--slide-height);
    position: absolute;

    cursor:pointer;
    color:var(--nav-arrow-color);
    font:700 8rem Fuggles, serif;
    background:white;    
}

.slide-viewer > label:hover {
    color:var(--nav-arrow-color-hover);
}

.slide-viewer > label:nth-of-type(2n+1) {
    left:0;
}

.slide-viewer > label:nth-of-type(2n) {
    right:0;
}

/* this makes navigation arrrows related to selected panel go over others and become active ones */

.slide-viewer > input[type="radio"]:nth-of-type(1):checked ~ label:nth-of-type(1),
.slide-viewer > input[type="radio"]:nth-of-type(1):checked ~ label:nth-of-type(2)
{
    z-index:3;
}

.slide-viewer > input[type="radio"]:nth-of-type(2):checked ~ label:nth-of-type(3),
.slide-viewer > input[type="radio"]:nth-of-type(2):checked ~ label:nth-of-type(4)
{
    z-index:3;
}

.slide-viewer > input[type="radio"]:nth-of-type(3):checked ~ label:nth-of-type(5),
.slide-viewer > input[type="radio"]:nth-of-type(3):checked ~ label:nth-of-type(6)
{
    z-index:3;
}

.slide-viewer > input[type="radio"]:nth-of-type(4):checked ~ label:nth-of-type(7),
.slide-viewer > input[type="radio"]:nth-of-type(4):checked ~ label:nth-of-type(8)
{
    z-index:3;
}
/* slide divs core sliding feature */

.slide-viewer > input[type="radio"]:nth-of-type(1):checked ~ div {
    margin:0;
}

.slide-viewer > input[type="radio"]:nth-of-type(2):checked ~ div:nth-of-type(n+2):nth-last-of-type(n+2) {
    margin:0;
}

.slide-viewer > input[type="radio"]:nth-of-type(3):checked ~ div:nth-of-type(n+3):nth-last-of-type(n+2) {
    margin:0;
}

.slide-viewer > input[type="radio"]:nth-of-type(4):checked ~ div:nth-of-type(n+4):nth-last-of-type(n+2) {
    margin:0;
}

.slide-viewer > input[type="radio"]:nth-of-type(5):checked ~ div:nth-of-type(n+5):nth-last-of-type(n+2) {
    margin:0;
}

/* this highlights the navigation button under viewer that is corresponding to currently viewed slide */
/* .slide-viewer > input[type='radio']:nth-of-type(1):checked ~ .nav-buttons > label:nth-of-type(1) > div,

.slide-viewer input[type='radio']:nth-of-type(2):checked ~ .nav-buttons > label:nth-of-type(2) > div,

.slide-viewer input[type='radio']:nth-of-type(3):checked ~ .nav-buttons > label:nth-of-type(3) > div,

.slide-viewer input[type='radio']:nth-of-type(4):checked ~ .nav-buttons > label:nth-of-type(4) > div,

.slide-viewer input[type='radio']:nth-of-type(5):checked ~ .nav-buttons > label:nth-of-type(5) > div {
    background: Var(--nav-buttons-color-current);
}  */


.slide-viewer > div:last-child {
    display: block;
}

.nav-buttons > label > div {
    right:0;
    background: var(--nav-buttons-color-inactive);
    width:1rem;
    height: 1rem;
    border-radius: 50%;
    overflow: hidden;
    border:var(--default-border);
    position: absolute;
}

.slide-viewer > .nav-buttons label {
    width:1rem;
    height: 1rem;
    margin:0.25rem 0.1rem;
    display:inline-block;
    position: relative;
}

/* on hover style for navigation buttons under viewer */
.slide-viewer > div:last-of-type > label:hover > div::before {
    height:100%;
    width:100%;
    display: block;
    content: '';
    background:var(--nav-buttons-color-hover)
}

/* autoplay animations */

@keyframes slide1{
    0% {
        margin-left:0;
        background: var(--nav-buttons-color-current);

    }

    19% {
        margin-left:0;
        background: var(--nav-buttons-color-current);
        
    }

    20% {
        margin-left:calc(var(--slide-width) * -1);
        background: var(--nav-buttons-color-inactive);

    }

    99% {
        margin-left:calc(var(--slide-width) * -1);
        background: var(--nav-buttons-color-inactive);
    }
    100% {margin-left: 0;}
}

@keyframes slide2{
    0% {
        margin-left:0;
    }

    19% {
        background: var(--nav-buttons-color-inactive);
    }

    20% {
        background: var(--nav-buttons-color-current);
    }

    39% {
        margin-left: 0;
        background: var(--nav-buttons-color-current);
    }

    40% {
        margin-left:calc(var(--slide-width) * -1);
        background: var(--nav-buttons-color-inactive);
    }

    99% {margin-left:calc(var(--slide-width) * -1)}
    100% {margin-left: 0;}
}

@keyframes slide3{
    0% {
        margin-left:0;
    }

    39% {
        background: var(--nav-buttons-color-inactive);
    }

    40% {
        background: var(--nav-buttons-color-current);
    }

    59% {
        margin-left: 0;
        background: var(--nav-buttons-color-current);
    }

    60% {
        margin-left:calc(var(--slide-width) * -1);
        background: var(--nav-buttons-color-inactive);
    }

    99% {margin-left:calc(var(--slide-width) * -1)}
    100% {margin-left: 0;}
}

@keyframes slide4{
    0% {
        margin-left:0;
    }

    59% {
        background: var(--nav-buttons-color-inactive);
    }

    60% {
        background: var(--nav-buttons-color-current);
    }

    79% {
        margin-left: 0;
        background: var(--nav-buttons-color-current);
    }

    80% {
        margin-left:calc(var(--slide-width) * -1);
        background: var(--nav-buttons-color-inactive);
    }

    99% {margin-left:calc(var(--slide-width) * -1)}
    100% {margin-left: 0;}
}

@keyframes slide5 {
    0% {background: var(--nav-buttons-color-inactive);}
    79% {background: var(--nav-buttons-color-inactive);}
    80% {background: var(--nav-buttons-color-current);}
    99% {background: var(--nav-buttons-color-current);}
}

/* applying animations to slider divs, navigation buttons and arrows (arrows not yet done) */

.slide-viewer>div:nth-of-type(1), .nav-buttons> label:first-of-type>div {
    animation: slide1 10s linear infinite;
}

.slide-viewer>div:nth-of-type(2), .nav-buttons> label:nth-of-type(2)>div {
    animation: slide2 10s linear infinite;
}

.slide-viewer>div:nth-of-type(3), .nav-buttons> label:nth-of-type(3)>div {
    animation: slide3 10s linear infinite;
}

.slide-viewer>div:nth-of-type(4), .nav-buttons> label:nth-of-type(4)>div {
    animation: slide4 10s linear infinite;
}

.slide-viewer>div:nth-of-type(5), .nav-buttons> label:nth-of-type(5)>div {
    animation: slide5 10s linear infinite;
}

/* Pausing auto animations when hovering hover the image slider */

.slide-viewer:hover #slide1 ~ div, .slide-viewer:hover #slide1 ~ .nav-buttons > label > div  {
    animation-play-state: paused;
}

/* resets of anination cycle when user navigates manually */

.slide-viewer:active #slide1 ~ div, .slide-viewer:active #slide1 ~ .nav-buttons > label > div  {
    animation:none;
}

.slide-viewer input[type='radio']:nth-of-type(1):checked ~ .nav-buttons > label > div,
.slide-viewer input[type='radio']:nth-of-type(1):checked ~ div:not([class='nav-buttons'])
{
    animation-delay:0s;
}

.slide-viewer input[type='radio']:nth-of-type(2):checked ~ .nav-buttons > label > div,
.slide-viewer input[type='radio']:nth-of-type(2):checked ~ div:not([class='nav-buttons']) 
{
    animation-delay:-2s;
}

.slide-viewer input[type='radio']:nth-of-type(3):checked ~ .nav-buttons > label > div ,
.slide-viewer input[type='radio']:nth-of-type(3):checked ~ div:not([class='nav-buttons'])
{
    animation-delay:-4s;
}

#slide4:checked ~ .nav-buttons > label > div ,
#slide4:checked ~ div:not([class='nav-buttons'])
{
    animation-delay:-6s;
}

.slide-viewer input[type='radio']:nth-of-type(5):checked ~ .nav-buttons > label > div ,
.slide-viewer input[type='radio']:nth-of-type(5):checked ~ div:not([class='nav-buttons'])
{
    animation-delay:-8s;
}

/* TO DO */
/* 
Looking good! Animations are working with manual controls. There are few glitches still though:nth-of-type(
    1. arrows. Yup, that's it.


)
*/